## 1. 关于EIP和ERC
- **EIP**（Ethereum Improvement Proposals）以太坊改进提案规定了以太坊平台的核心协议规范标准和合约标准等，例如改进区块链机制、虚拟机规则、共识算法等。
- **ERC**（Ethereum Request for Comment）以太坊征求意见提案是一种以太坊改进提案，设定合约和代币标准等应用级标准，确保代币在以太坊网络上的互操作性，描述了代币的转移、余额查询、元数据等功能。

## 2. 协议标准

ERC列表：https://eips.ethereum.org/erc  
EIP列表：https://eips.ethereum.org/all

## 3. 重要协议标准

### ERC-20
[ERC-20 代币标准](https://eips.ethereum.org/EIPS/eip-20)  
[OpenZeppelin-ERC-20 文档](https://docs.openzeppelin.com/contracts/3.x/tokens#ERC20)  
[OpenZeppelin-ERC-20 实施](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC20/ERC20.sol)  
ERC-20 是由以太坊联合创始人Vitalik Buterin在2015年6月提出的，它是一个简单的接口，允许开发者在以太坊区块链之上创建他们的代币，并将其与第三方应用程序（如钱包和交易所）集成。

除了允许创建者使用简单的功能，比如限制他们的币的总供应量，ERC-20代币、去中心化应用（DApps）和智能合约之间也有直接的互动。ERC-20是加密行业最广泛接受的代币标准，大多数数字资产钱包、交易所（包括AAX）和其他服务都支持该标准。

**ERC-20 通证必须实现六个主要功能：**
- 用于得出特定 ERC-20 通证的总通证供应量
- 用于导出以太坊钱包中的通证余额
- 允许用户将通证的所有权转让给另一个
- 与 transfer 功能类似，具有允许合约代表用户转移通证的额外优势
- 用于设置智能合约可以提取的通证数量限制
- 授予外部地址访问权限并允许从一定余额中使用通证

除了以上六项强制功能之外，还有其他可选功能可以提高 ERC-20 通证的可用性，例如通证名称、通证代码（例如 ETH）和可分割性（通证可以支持多少个小数位）。

-----------------
### ERC-721  
[ERC-721 NFT标准](https://eips.ethereum.org/EIPS/eip-721)  
[OpenZeppelin-ERC-721 文档](https://docs.openzeppelin.com/contracts/3.x/erc721)  
[OpenZeppelin-ERC-721 实施](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/master/contracts/token/ERC721/ERC721.sol)  
ERC721 标准是由 CryptoKitties 的 CTO Dieter Shirley 于2018年1月所创建和发布的，Dieter Shirley 是 NFT 的奠基人之一。该协议是以太坊的针对非同质化代币 NFT 数字资产的第一个标准，应用于 CryptoKitties、Decentraland 等项目。

ERC721 是一个 ERC20 的变种。两者之间最主要的区别是，ERC 721 token 是非同质化的(non-fungible)，也即：每一个 token 都与其他 token 不同。为了区分 ERC721 token，每一个都有一个唯一的 ID，通常用来当作 token 铸造的计数器。ERC721 token 也对于所有权有额外的概念：每个 token 的拥有者都在合约中存储。这意味着每次的转移（或者授权转移）都是针对不同 token ID 的单个 token。  

**简单归纳：**  
- 在合约范围内，每个NFT都有唯一ID。
- 一个 TokenID 只能被一个 owner 拥有。
- 一个 owner 可以持有多个 NFT

----------------
### ERC-721A  
ERC-721A **NFT标准** 是由著名 NFT 系列 Azuki 提出。为应对 NFT 项目开始铸造时，gas 价格飙升，导致整个生态系统支付数百万的 gas 费用进行交易，在IERC721和ERC721Enumerable 基础上进行开发、优化。
- 针对写入函数进行了优化，使 TokenID 是从 0 开始按顺序编号的，这能从基本实现中删除一些冗余存储。
- 最显著的亮点就是允许铸造多个 NFT，其 gas 成本与铸造单个 NFT 的燃料成本基本相同。假如用户铸造5个 NFT，只记录铸造的第一个NFT所有者，后续 4 个不进行标记，如果想知道不标记的 NFT 属于谁，就向上寻找，直到找到第一个 NFT 标记的所有者，则后面未标记的 NFT 都属于该用户。

----------------
### ERC-721C  
ERC-721C **NFT标准** 是由 Limit Break 提出，它是对以太坊上 ERC-721 非同质化代币（NFT）标准的改进，使版税成为可以在区块链上强制执行的智能合约规则。
- 主要目标 是给予 NFT 创作者更多对其 NFT 集合以及版税处理方式的控制权和自定义能力。
- 目前可在以太坊和 Polygon 上运行。以太坊的 Sepolia 测试网和 Polygon 的孟买测试网也支持。

#### 功能优点：

1. **共享版税**：与其让NFT创作者独自获得所有NFT版税收益，可以将其分配给NFT创作者和持有者，以奖励早期采用者。

2. **只有铸造者有版税收入**：NFT的铸造者可以成为唯一的版税收入获得者，而不是创作者本人。

3. **有条件的版税支付**：可以根据不同的条件确定是否支付某些NFT交易的版税。例如，可以配置ERC-721C合约，使版税仅在二次销售价格高于原始铸造价格时支付。

4. **可转让的版税**：NFT创作者可以向持有者发行一个独立的NFT，授予持有者版税收入的权利。例如，当一个人铸造"NFT X"时，还会发行一个名为"NFT Y"的NFT，其有权获得由"NFT X"生成的所有版税。

#### 重要影响：

1. **提供更大的创作者控制权**：ERC-721C 增加了创作者对其 NFT 设计的控制，并使版税成为可链上强制执行的合约规则，从而为创作者带来更大的自主权和权益保护。

2. **促进公平的版税分配**：通过可编程版税的功能，创作者可以设计不同的版税分配机制，如上文距举例。

3. **减少市场平台的影响力**：由于版税逻辑被嵌入智能合约中，创作者将能够直接控制版税设置，减少了市场平台对版税的控制和干预。

-----------------
### ERC-777  
[ERC-777 代币标准](https://eips.ethereum.org/EIPS/eip-777)    
由Jordi Baylina, Jacques Dafflon和Thomas Shababi于2017年11月创建。

**ERC-20 的问题:** 
- 当给某个合约转币，ERC20无法在合约里面记录是谁发过来的币，导致不能进行后续的一系统操作，因为接收者并不知道自己接受了ERC20代币。
- ERC20合约没有转账通知机制，导致很多ERC20代币误转到合约后，无法提取出来，导致大量代币被锁死，例如：如锁死的QTUM，锁死的EOS。
- ERC20转账时，无法携带额外的信息。如：有一些客户希望让用户使用 ERC20 代币购买商品，因为转账没法携带额外的信息，用户的代币转移过来，不知道用户具体要购买哪件商品，从而增加了线下额外的沟通成本。

**ERC-777 旨在解决 ERC-20 的局限性:**  
- 该通证标准使智能合约通过名为“挂钩（Hooks）”的机制更有效地发送和接收通证。“挂钩”是一种功能，它将原本是两条消息的发送通证和通知合约合并为一个。不仅如此，ERC-777 还引入了拒绝来自黑名单地址交易的附加功能。
- 另一个特点是它保持向后兼容 ERC-20，而不是使其过时。换句话说，建立在 ERC-20 上的通证可以与建立在 ERC-777 上的通证自由交互，因为这两个标准都使用相同的底层功能。
**可以说 ERC777 是在 ERC20 的基础上进行的升级改造**。


-----------------
### ERC-1155  
[ERC-1155 多代币标准](https://eips.ethereum.org/EIPS/eip-1155)  
[OpenZeppelin-ERC-1155 文档](https://docs.openzeppelin.com/contracts/3.x/erc1155)  

用于多种代币管理的合约标准接口。单个部署的合约可以包括同质化代币、非同质化代币或其他配置（如半同质化代币）的任何组合。多用于游戏领域。

**ERC-1155的显着特点是：**

- 它使用单个智能合约一次代表多个代币。这就是为什么它的 balanceOf 功能不同于 ERC-20 和 ERC-777 的原因:它有一个额外的id参数，用于要查询余额的代币的标识符。
- 这类似于 ERC-721 做事的方式，但在该标准中，代币id没有平衡的概念:每个代币都是不可替代的，存在或不存在。ERC721balanceOf 函数是指一个账户有多少不同的代币，而不是每个有多少。另一方面，在 ERC-1155 账户中，每个代币都有不同的余额id，不可替代的代币是通过简单地铸造其中一个来实现的。
- 这种方法可以为需要多个代币的项目节省大量气体。无需为每种代币类型部署新合约，单个 ERC-1155 代币合约可以保存整个系统状态，从而降低部署成本和复杂性。

**ERC-1155 功能和特点：**
- 批量传输:通过一次合约调用传输多种资产。  
- 批量余额:在—次调用中获取多个资产的余额。  
- 批量审批:审批同—地址的所有代币。
- Hook:接收代币的钩子函数。
- 支持非同质化代币:如果供应量仅为1，将其作为非同质化代币处理。
- 安全转账规则:安全转账规则集。

-----------------
### ERC-4337  
ERC-4337最早在2021年提出，于2023年3月，ERC-4337部署到以太坊主网，实现在单个合约账户中进行交易和创建合约。是无需更改任何共识层即可在协议上实现账户抽象(Account Abstaction) 的以太坊标准。
- 本质上，账户抽象创造了一种新的账户类型，将用户的加密钱包变成了支持智能合约的账户。

以太坊中的两种账户各自具有不同的功能：
- 外部拥有账户(EOA)由用户拥有和控制，
- 智能合约账户（合约账户）是部署到网络中的智能合约。  

两种账户均可接收、持有和发送ETH或代币。

当前以太坊上现有的大多数钱包创建的都是 EOA 账户，如MetaMask。这些钱包都受限于EOA账户的设定规则。受限条件包括账户访问完全依靠私钥，且所有交易均需签名。因此，钱包设置程序和私钥安全措施通常十分复杂，且不便于用户使用。如果用户丢失了助记词，就意味着再也无法访问帐户及其里面的资金。  

ERC-4337消除了此类限制。通过ERC-4337，用户可以享用同时具备智能合约和外部拥有账户功能的单一账户。这样一来钱包成为智能账户的代名词——可以执行多项任务、处理多因素身份验证、启动和维持加密货币订阅等的实体——所有这些都通过代码实现。

#### 潜在好处
一般来说，账户抽象的实现旨在为钱包提供两个好处：
- 使加密钱包更加用户友好。
- 防止丢失加密货币或加密钱包访问权限。

它可以使加密行业外的普通用户更容易访问以太坊，可以解决用户目前从创建钱包到使用钱包所面临的一些关键问题，让钱包变得更加简单易用。

-----------------
### ERC-4626
[ERC-4626 代币化金库标准](https://eips.ethereum.org/EIPS/eip-4626)  

ERC-4626，是一种代币化保险库的标准协议，代表着可产生收益的代币份额，并基于ERC-20代币标准进行构建。  

**作为ERC-20的扩展，ERC-4626实现了以下功能：**
- 存款和提取
- 保险库余额
- 接口
- 事件

**优点：**
- 降低收益保险库的集成难度，为各种应用提供统一的接口和实现模式。
- 提高收益保险库的互操作性，使其可以与其他 DeFi 协议和工具无缝对接。
- 提高收益保险库的安全性，减少错误和漏洞的风险。
- 提高收益保险库的透明度，让用户更清楚地了解他们的资产和收益情况。  

**缺点：**
- 可能不适用于一些特殊或复杂的收益保险库，需要进行定制或扩展。
- 可能需要一些时间和资源来推广和普及，让更多的开发者和用户认可和使用。

**在 DeFi 领域有很多潜在的应用场景：**
- 借贷市场：用户可以将他们的代币存入 ERC4626 保险库，获得份额代币，然后将份额代币作为抵押物借出或借入其他代币，从而实现杠杆或套利。
- 聚合器：用户可以将他们的代币存入 ERC4626 保险库，让聚合器为他们寻找最佳的收益策略，无论是在不同的借贷市场、流动性池、挖矿协议等。
- 本身具有利息的代币：用户可以将他们的代币存入 ERC4626 保险库，获得份额代币，这些份额代币本身就具有利息，无需再进行任何操作。

-----------------
### ERC-6551  
ERC-6551 协议的联合作者是 @BennyGiang，他是Dapper Labs的创始成员之一，团队曾致力于ERC-721代币标准和早期项目，如CryptoKitties。

常规ERC-721 NFT的问题在于其受限范围。它们只能被拥有和转让，无法拥有其他资产，如代币或其他NFT。此外，它们无法与其他智能合约进行互动，也无法根据外部因素或用户输入的变化或演进。

- ERC-6551通过为NFTs引入智能合约钱包的概念，解决了常规ERC-721 NFTs功能的限制。它通过注册表和代理合约的组合，使得NFT本身也能够持有其他资产，与其他智能合约和账户进行交互，实现更丰富的功能和互动性。

因此，你可以具体理解成，遵循ERC-6551的代币（NFT）将会作为智能合约钱包进行运作。**这意味着每一个 NFT 就像是一个带有地址的钱包**，可以持有代币和其他NFT，并进行交易，且能够与其他智能合约和账户，例如去中心化交易所（DEX）、借贷平台、游戏环境等进行交互。

这种将NFT作为智能合约钱包进行运作的方式，形成了所谓的“绑定代币账户”（Token-Bound Accounts，TBAs），它通过与现有的ERC-721 NFT兼容的无权限注册表创建和管理。

#### 潜在优势
- 将相关资产（NFT、代币、身份特征等）绑定到一个NFT中，从而能更轻松地跨不同平台管理和转移资产，提高用户体验。如果出售或转让 ERC-6551 NFT，其中的每个资产也会随之转移。
- NFT 拥有独立身份，NFT 可以独立地与 dapp 交互，而不必依赖持有它的钱包，也可用于忠诚计划或评估信用。
- 可获得资产的完整历史和使用信息。
- NFT 可以自主与其他资产和平台交互，增强价值。  

#### 挑战和限制
- 需获得现有项目支持：部分 NFT 项目不支持 ERC-6551 标准。
- 平台整合和技术难题：部分平台无法整合 ERC-6551 标准。

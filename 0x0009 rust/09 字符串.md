## 一、String 字符串  
### 字符串 String：字节的集合，可变，uft8编码  

```rust
fn main() {
    println!("Hello, world!");
    modify_string();
    contact_string();
    get_string();
}

//创建 string
fn create_string() {
    // 方法1：创建一个空字符串
    let mut s = String::new();

    // 方法2：创建一个字符串
    let data = "initial contents";
    let s = data.to_string();

    // 方法3：使用 from
    let s = String::from("hello world");
    println!("{}", s);
}

//修改string
fn modify_string(){
    
    let mut s = String::from("hello");
    s.push_str("_string");    //string后加字符串
    println!("{}", s);
    
    s.push('2');    //string后加字符
    println!("{}", s);
}

//拼接字符串
fn contact_string(){
    let s1 = String::from("Rust");
    let s2 = String::from(" is awesome ");
    let s3 = s1 + &s2;                     //直接使用 + 运算符，注意s2必须是 &s2
    let s4 = s3 + "-" + &s2;   //连接多个字符串

    //方法2：使用 format! 不会获取所有权
    let ss = String::from(" format! ");
    let s = format!("{ss}{s2}");
    println!("{}", s);
}
```

### String 不允许 索引访问   
 Rust 不允许通过索引访问 字符串 中的 字符。   
```rust
fn index_string(){
    let s = String::from("hello");
    // let h = s[0];  //错误
}
```
### 对String进行切片   
如果真的需要使用索引来创建 String 切片，必须更加具体。可以使用 [] 配合 Range:  
```rust
fn slice_string(){
    let s = String::from("hello world");
    let hello = &s[0..5];
    let world = &s[6..11];
    println!("{} {}", hello, world);
}
```
### 遍历 String:   
- 方法1：获得字符串单个 Unicode 标量值 --> ``.chars()`` 方法   
```rust
fn get_string() {
    //使用 .chars() 方法遍历，获得字符串中的每个 Unicode 字符
    let s = String::from("hello world");
    for c in s.chars() {
        println!("{}", c);
    }
}
```
- 方法2：获得字符串原始字节 --> ``.bytes()`` 方法
```rust
fn get_string(){
   //使用 .bytes() 放遍历，获得字符串的原始 UTF-8 字节
    for b in s.bytes() {
        println!("{}", b);
    }

    //收集字节到 vector 中，打印 字节列表：[104, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100]
    let bytes: Vec<u8> = s.bytes().collect();
    println!("字节列表：{:?}", bytes);    
}
```
- 方法3：获取字符及其在字符串中的位置  --> ``.char_indices()`` 方法
```rust
fn get_string(){
    let s = String::from("Hello Rust");

    for(index, charater) in s.char_indices(){
        println!("字节 '{}' 位于索引的 {}", charater, index);
    }
}
```
